(function(a,k,g){var f=a(g),l=a(k),e={isHandheld:function(a){return/(android|bb\d+|meego).+mobile|android|ipad|playbook|silk|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))}(navigator.userAgent||navigator.vendor||k.opera),cssTransitions:function(a,b){a=(new Image).style;b="ransition";return"t"+b in a||"webkitT"+b in a||"MozT"+b in a}(),cssAnimations:function(a,b){a=(new Image).style;b="nimationName";return"a"+b in a||"webkitA"+b in a||"MozA"+b in a}(),resizeCallbacks:[],Project:{popupControls:a('<div class="project-controls"><ul><li><button class="mfp-prevent-close" data-action="prev"><i class="mfp-prevent-close fa fa-arrow-left"></i></button></li><li><button data-action="close"><i class="fa fa-times"></i></button></li><li><button class="mfp-prevent-close" data-action="next"><i class="mfp-prevent-close fa fa-arrow-right"></i></button></li></ul></div>'),init:function(){var d=this;a(".projects").each(function(){a(".items",this).imagesLoaded(function(){a(this).isotope({masonry:{columnSize:".grid-sizer",gutter:".gutter-sizer"},itemSelector:".project",transitionDuration:"0.5s"}).closest(".projects").addClass("loaded")})});f.on("click",".projects .filter a[data-filter]",function(b){a(this).closest("li").siblings().removeClass("active").end().addClass("active").closest(".projects").find(".items").isotope({filter:a(this).data("filter")}).end().end().closest(".filter").find(".active-label").html(this.innerHTML);b.preventDefault()}).on("click",".projects .mfp-details a,.royalSlider .project-slide .mfp-details a",function(b){var c=a(this).closest(".project,.project-slide"),n=a(this).closest(".items,.royalSlider").find(".project,.project-slide"),c=n.index(c);d.openProjectPopup(d.getProjectUrls(n),c);b.preventDefault()})},openProjectPopup:function(d,b){if(d&&d.length&&a.magnificPopup){var c=this;a.fn.mfpFastClick&&!c.fastClickInitialized&&a.magnificPopup.instance&&(c.fastClickInitialized=!0,c.popupControls.find("button").each(function(){var b=a.magnificPopup.instance[a(this).data("action")];"function"==typeof b&&a(this).mfpFastClick(b)}));a.magnificPopup.open({items:d,type:"ajax",gallery:{enabled:!0,arrows:!1},ajax:{settings:{cache:!1}},alignTop:!0,showCloseBtn:!1,mainClass:"project-details-popup",callbacks:{open:function(){f.off("keydown.mfp-gallery")},parseAjax:function(b){var d=a(b.data).find(".section.project-details").first();d.length?(d.find(".project-title").before(c.popupControls),b.data=d):b.data=""},ajaxContentAdded:c.initPopup,beforeChange:c.teardownPopup,beforeClose:c.teardownPopup}},Math.max(0,b))}},getProjectUrls:function(d){return d.find(".mfp-details a").map(function(){var b=a(this).attr("href");if(""!=b&&"#"!=b)return{type:"ajax",src:b}}).get()},initPopup:function(){this.content&&e.setup(this.content)},teardownPopup:function(){this.content&&(e.teardown(this.content),e.Project.popupControls.detach())}},init:function(){!e.isHandheld&&a("html").addClass("desktop");e.setupListeners();a(e.ready)},ready:function(){e.cssTransitions&&a("html").addClass("csstransitions");a.fn.affix&&a(".site-header").each(function(){var b=a(this);b.find(".header-inner").affix({offset:{top:function(){return a(".site-body").offset().top-b.outerHeight()-1}}})});f.on("click",".main-nav .nav-toggle",function(b){a(this).siblings("ul.nav").slideToggle();b.preventDefault()}).on("click",".main-nav .sub-toggle",function(b){b.target==this&&(a(this).toggleClass("open").closest("li").find(">ul").slideToggle(),b.stopPropagation(),b.preventDefault())});e.resizeCallbacks.push({callback:function(){a(".main-nav ul").css("display","");a(".main-nav .sub-toggle").removeClass("open")}});a.fn.scrollspy&&a(g.body).scrollspy({target:".main-nav",offset:a(".site-header").outerHeight()+1});a.fn.cycle&&a(".splash-slider").on("cycle-initialized",function(){a(this).addClass("active")}).cycle({fx:e.isHandheld||!e.cssTransitions?"fade":"none",log:!1,slides:">.splash-content",pauseOnHover:".splash-text"});f.on("click",'.main-nav ul a[href^="#"],.splash-text .splash-intro a[href^="#"]',function(b){var c=a(this).attr("href"),c="#"==c?0:g.getElementById(c.split(/#/).pop());null!==c&&(c=0==c?0:a(c).offset().top-a(".site-header").outerHeight()+1,a("html, body").stop().animate({scrollTop:c},e.isHandheld?0:750),b.preventDefault())});a.fn.mediaelementplayer&&(!e.isHandheld&&f[0].createElement("video").canPlayType?function(){var b=mejs.MediaElementPlayer.prototype.setPlayerSize;mejs.MediaElementPlayer.prototype.setPlayerSize=function(a,d){var e=this.container.closest(".aligned-video-wrapper"),h=e.parent();if(this.isVideo&&e.length&&h.length){var m=(this.media.videoWidth&&0<this.media.videoWidth?this.media.videoWidth:this.options.defaultVideoWidth)/(this.media.videoHeight&&0<this.media.videoHeight?this.media.videoHeight:this.options.defaultVideoHeight),g=h.outerWidth(),h=h.outerHeight(),f={width:"100%",height:"100%",marginTop:"auto",marginLeft:"auto"};m>g/h?(f.width=Math.round(m*h),f.marginLeft=(g-f.width)/2):(f.height=Math.round(g/m),f.marginTop=(h-f.height)/2);e.css(f)}b.apply(this,arguments)};a("video",".splash-media-video,.section-media-video").wrap('<div class="aligned-video-wrapper"></div>').mediaelementplayer({defaultVideoWidth:1920,defaultVideoHeight:1080,enableKeyboard:!1,features:[],pauseOtherPlayers:!1,canBePausedByOtherPlayers:!1,success:function(a){a.addEventListener("playing",function(){a.setMuted(!0)},!1)}})}():a("video",".splash-media-video,.section-media-video").remove(),a("audio,video",".media").mediaelementplayer({audioWidth:"100%",defaultVideoWidth:1920,defaultVideoHeight:1080,enableKeyboard:!1}));a.fn.parallax&&a("[data-background]").each(function(){a(this).parallax(a.extend(!0,{lazyLoad:!0,mode:e.isHandheld?"none":"parallax",activeClass:"has-bg",fixedBgClass:"bg-fixed",parallaxClass:"bg-fixed",speedFactor:0.3},a(this).data()))});a(g).on("touchstart",function(b){a(".touch").removeClass("touch")}).on("touchstart",".icon-box,.team,.media,.recent-post-body,.slider-media,.project-image",function(b){a(".touch").not(this).removeClass("touch");a(this).toggleClass("touch");b.stopPropagation()});"function"==typeof countUp&&a(".counter").each(function(){var b=a(this).find(".number"),c,d=parseInt(b.text(),10);b.length&&a.isNumeric(d)&&(b.html(0),c=new countUp(b[0],0,d,0,2),b.waypoint(function(){c.start(function(){c=null})},{offset:"75%",triggerOnce:!0}))});a.fn.magnificPopup&&a.each({".media .mfp-zoom a":!1,".royalSlider":".slider-media .mfp-zoom a",".projects .items":".mfp-zoom a"},function(b,c){a(b).each(function(){a(this).magnificPopup({delegate:c,type:"image",gallery:c?{enabled:!0}:!1})})});if(a.fn.magnificPopup){var d=new Hogan.Template(function(a,c,d){this.b(d=d||"");this.b('<div class="row"><div class="col-md-12"><h2 class="team-name">');this.b(this.v(this.f("name",a,c,0)));this.s(this.f("role",a,c,1),a,c,0,79,102,"{{ }}")&&(this.rs(a,c,function(a,b,c){c.b("<small>");c.b(c.v(c.f("role",a,b,0)));c.b("</small>")}),a.pop());this.b('</h2></div></div><div class="row">');this.s(this.f("photo",a,c,1),a,c,0,155,305,"{{ }}")&&(this.rs(a,c,function(a,b,c){c.b('<div class="col-md-4 col-md-push-8"><figure class="team-photo"><img src="');c.b(c.v(c.f("photo",a,b,0)));c.b('" alt="');c.b(c.v(c.f("name",a,b,0)));c.b('"></figure></div><div class="col-md-8 col-md-pull-4">')}),a.pop());this.s(this.f("photo",a,c,1),a,c,1,0,0,"")||this.b('<div class="col-md-12">');this.b('<div class="team-content">');this.b(this.t(this.f("content",a,c,0)));this.b("</div></div></div>");return this.fl()});f.on("click",".team .team-photo a",function(b){var c=a(this).closest(".team"),e=c.closest(".section-row"),f=e.find(".team"),c=f.index(c),h=a.data(e[0],"team-data");h||(h=f.map(function(){var b=a(this).find(".team-data");if(b.length)return a.extend(!0,{},b.data(),{content:b.html()})}).get(),a.data(e[0],"team-data",h));a.magnificPopup.open({items:h,type:"inline",gallery:{enabled:!0},inline:{markup:'<div class="team-popup"><div class="container"><div class="row"><div class="col-md-12"><div class="mfp-close"></div><div class="team-popup-content"></div></div></div></div></div>'},mainClass:"team-popup-container",callbacks:{markupParse:function(a,b,c){a.find(".team-popup-content").empty().html(d.render(b))}}},0<c?c:0);b.preventDefault()})}(function(){a.fn.tweet&&a.each({".tweet-slider":{template:'<div class="tweet">{text}{time}<a class="tweet_user" href="{user_url}">@{screen_name}</a></div>',callback:function(){a(this).find(".tweet_list").addClass("owl-carousel").owlCarousel({singleItem:!0,autoHeight:!0,theme:"hydrogen-theme",navigationText:!1})}},".tweet-list":{template:'<div class="tweet-list-item">{text}{time}</div>'}},function(b,c){a(b).each(function(){var b=a(this).data("username"),d=a(this).data("count")||1,e=a(this).data("loading-text")||"Loading Tweets...";b&&a(this).tweet({modpath:"php/twitter/index.php",username:b,template:c.template||"",count:d,loading_text:e},c.callback)})})})();a.fn.waypoint&&a(".progress").waypoint(function(b){b=a(this).data("value")||100;a(this).find(".progress-bar").css({width:b+"%"})},{triggerOnce:!0,offset:function(){return a.waypoints("viewportHeight")-1}});a.fn.placeholder&&a("[placeholder]").placeholder();a.validator&&a.fn.ajaxSubmit&&function(){a.validator.setDefaults({highlight:function(b){a(b).closest('.form-group,[class*="col-xs-"],[class*="col-sm-"],[class*="col-md-"],[class*="col-lg-"]').addClass("has-error")},unhighlight:function(b){a(b).closest('.form-group,[class*="col-xs-"],[class*="col-sm-"],[class*="col-md-"],[class*="col-lg-"]').removeClass("has-error")},errorElement:"span",errorClass:"help-block",errorPlacement:function(a,c){a.insertAfter(c)}});a(".contact-form").each(function(){a(this).validate({submitHandler:function(b){a(b).ajaxSubmit(function(c){c=a.parseJSON(c);a(f[0].createElement("div")).addClass("alert").toggleClass("alert-danger",!c.success).toggleClass("alert-success",c.success).html(c.message).prepend('<button type="button" class="close" data-dismiss="alert">&times;</button>').hide().prependTo(b).slideDown();c.success&&a(b).resetForm()})}})})}();!e.isHandheld&&e.cssAnimations&&a.fn.youxiAnimate&&a(".section-row .row").filter(function(){return 0==a(this).parents(".row").length}).youxiAnimate();e.Project.init();e.setup();l.triggerHandler("resize")},setupListeners:function(){(function(a){function b(){var g=Math.max(d.scrollHeight,e.scrollHeight,d.offsetHeight,e.offsetHeight,d.clientHeight,e.clientHeight);g!=f&&(f=g,a());setTimeout(b,1E3)}var d=g.body,e=g.documentElement,f=Math.max(d.scrollHeight,e.scrollHeight,d.offsetHeight,e.offsetHeight,d.clientHeight,e.clientHeight);b()})(e.onDocHeightChange);var a,b;l.on("resize orientationchange",function(){a&&clearTimeout(a);a=setTimeout(function(){for(b=0;b<e.resizeCallbacks.length;b++){var a=e.resizeCallbacks[b];"function"==typeof a.callback&&a.callback.apply(a.context||k)}},50)})},setup:function(d){d=a(d);d.length||(d=a(g.body));a.fn.tooltip&&d.find('[rel="tooltip"]').tooltip();a.fn.owlCarousel&&d.find(".owl-carousel").each(function(){a(this).owlCarousel(a.extend(!0,{},{items:3,itemsDesktop:[1199,3],itemsDesktopSmall:[991,2],itemsTablet:[767,1],itemsMobile:!1,itemsScaleUp:!0,theme:"hydrogen-theme",navigationText:!1,paginationNumbers:!1,afterUpdate:function(b){b.find(".royalSlider").each(function(){var b=a(this).data("royalSlider");b&&b.updateSliderSize()})}},a(this).data()))});if(a.fn.royalSlider){var b=d.find(".royalSlider");a.each({".iphone-slider .royalSlider":{options:{controlNavigation:"none",imageScaleMode:"fill"}},".ipad-slider .royalSlider":{options:{controlNavigation:"none",imageScaleMode:"fill"}},".macbook-slider .royalSlider":{options:{controlNavigation:"none",imageScaleMode:"fill"}},".standard-slider .royalSlider":{options:{controlNavigation:"none",imageScaleMode:"fill"}},".recent-post-slider .royalSlider":{options:{navigateByClick:!1,sliderDrag:!1,sliderTouch:!1,controlNavigation:"none",imageScaleMode:"fill"}},".nearby-slider .royalSlider":{options:{keyboardNavEnabled:!0,imageScaleMode:"fill",visibleNearby:{enabled:!0,centerArea:0.5,center:!0,breakpoint:992,breakpointCenterArea:0.7,navigateByCenterClick:!0}}}},function(c,d){b=b.filter(c).each(function(){"function"==typeof d.beforeInit&&d.beforeInit.apply(this);a(this).royalSlider(a.extend(!0,d.options,a(this).data(),{addActiveClass:!0,imageScalePadding:0,slidesSpacing:0,fadeinLoadedSlide:!1}));"function"==typeof d.afterInit&&d.afterInit.apply(this)}).end().not(c)});b.each(function(){a(this).royalSlider(a(this).data())})}a.fn.justifiedGrids&&d.find(".photoset").each(function(){a(this).imagesLoaded(function(){a(this).addClass("loaded").justifiedGrids({selector:".photo",margin:10,minRowHeight:240})})});a.fn.fitVids&&d.find(".media").fitVids()},teardown:function(d){d=a(d);d.length||(d=a(g.body));a.fn.tooltip&&d.find('[rel="tooltip"]').tooltip("destroy");a.fn.owlCarousel&&d.find(".owl-carousel").each(function(){var b=a(this).data("owlCarousel");b&&b.destroy()});a.fn.royalSlider&&d.find(".royalSlider").each(function(){var b=a(this).data("royalSlider");b&&b.destroy()});a.fn.justifiedGrids&&d.find(".photoset").justifiedGrids("destroy")},windowLoad:function(){a(".site-loader").remove();a.fn.jflickrfeed&&a(".flickr-stream").each(function(){var d=a(this).data("flickr-id"),b=a(this).data("limit")||9;a(f[0].createElement("ul")).prependTo(this).jflickrfeed({qstrings:{id:d},limit:b,itemTemplate:'<li><a href="{{link}}" title="{{title}}" target="_blank"><img src="{{image_s}}" alt="{{title}}"></a></li>'})});a.fn.youxiGoogleMaps&&a(".google-maps").youxiGoogleMaps()},onDocHeightChange:function(){a.fn.scrollspy&&a(g.body).scrollspy("refresh");a.waypoints&&a.waypoints("refresh");a.fn.parallax&&a("[data-background]").parallax("refresh")}};e.init();l.load(e.windowLoad)})(jQuery,window,document);